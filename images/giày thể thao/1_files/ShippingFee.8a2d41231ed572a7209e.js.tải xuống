(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1663:function(e,t,r){"use strict";var n=r(36);t.a=Object(n.a)({Icon:r(1684),iconClassNames:["icon-arrow-left"]})},1867:function(e,t,r){"use strict";r.d(t,"g",function(){return l}),r.d(t,"f",function(){return u}),r.d(t,"a",function(){return p}),r.d(t,"b",function(){return d}),r.d(t,"d",function(){return h}),r.d(t,"e",function(){return f}),r.d(t,"c",function(){return m});r(7);var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,a){try{var o=t[i](a),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var s=function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=[];if(r&&r.toLowerCase().includes(t)&&a.push([r]),Array.isArray(n)||0===i){Array.isArray(n)||(n=Object.keys(n));var o=n.filter(function(e){return e.toLowerCase().includes(t)});return o&&o.length&&(o=o.map(function(e){return r?[r,e]:[e]}),a=a.concat(o)),a}for(var s in n){var c=e(t,s,n[s],i-1);if(c.length){var l=!0,u=!1,p=void 0;try{for(var d,h=c[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;a.push((r?[r]:[]).concat(f))}}catch(e){u=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw p}}}}return a},c=[];function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return t?s(e.toLowerCase(),null,t,r-1):[]}function u(e,t){if(!t)return[];if(!e)return Object.keys(t);var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!t[s])return c;t=t[s]}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return Array.isArray(t)?t:Object.keys(t)}((function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addressData={};var i=r(419)("./"+t+".json").then(function(e){return a({},e.default)});e.cache.hasOwnProperty(t)?this.promise=new Promise(function(r){n.addressData=e.cache[t],r(null)}):this.promise=new Promise(function(r){i.then(function(i){n.addressData=i,e.cache[t]=n.addressData,r(null)})})}return i(e,[{key:"getCurrentLevelList",value:function(e,t){var r=this;"function"==typeof t&&this.promise.then(function(){t(function(e,t){if(!e)return Object.keys(t);var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!t[s])return[];t=t[s]}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return Array.isArray(t)?t:Object.keys(t)}(e,r.addressData))})}},{key:"getSelectedLevelsByKeyword",value:function(e,t){"function"==typeof t&&t(s(e.toLowerCase(),null,this.addressData))}}]),e})()).cache={};var p={SG:[],MY:["state","area"],VN:["city","district","ward"],PH:["region","province","city","barangay"],ID:["province","city","district"],TW:["city","district"],TH:["state","city"]},d=["state","city","district","town"],h=!1,f=!1,m={state:{placeholder:"label_state"},city:{placeholder:"label_city"},district:{placeholder:"label_district"},area:{placeholder:"label_area"},ward:{placeholder:"label_ward"},barangay:{placeholder:"label_barangay"},region:{placeholder:"label_region"},province:{placeholder:"label_province"}};var g,v,b={state:null,city:null,district:null,town:null},y={TW:{matchZipLength:3,zipToAddressLoader:function(){return r.e(12).then(r.t.bind(null,1209,3)).then(function(e){return a({},e.default)})},addressToZipLoader:function(){return r.e(11).then(r.t.bind(null,1208,3)).then(function(e){return a({},e.default)})},zipToAddressDataMapping:{state:"city",city:"district"},addressToZipTest:["state","city"]},TH:{matchZipLength:5,zipToAddressLoader:function(){return r.e(10).then(r.t.bind(null,1207,3)).then(function(e){return a({},e.default)})},addressToZipLoader:function(){return r.e(9).then(r.t.bind(null,1206,3)).then(function(e){return a({},e.default)})},zipToAddressDataMapping:{state:"city",city:"district"},addressToZipTest:["state","city"]}};g=o(regeneratorRuntime.mark(function e(t){var r,i,a,o,s,c,l,u,p,d,h,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=y.VN)&&t){e.next=3;break}return e.abrupt("return",b);case 3:if((t=t.substr(0,r.matchZipLength)).length===r.matchZipLength){e.next=6;break}return e.abrupt("return",b);case 6:return e.next=8,r.zipToAddressLoader();case 8:if(i=e.sent,!(a=i[t])){e.next=40;break}if(o=r.zipToAddressDataMapping,!Object.values(o).map(function(e){return a[e]}).every(Boolean)){e.next=37;break}for(s={},c=!0,l=!1,u=void 0,e.prev=18,p=Object.entries(o)[Symbol.iterator]();!(c=(d=p.next()).done);c=!0)h=n(d.value,2),f=h[0],m=h[1],s[f]=a[m];e.next=26;break;case 22:e.prev=22,e.t0=e.catch(18),l=!0,u=e.t0;case 26:e.prev=26,e.prev=27,!c&&p.return&&p.return();case 29:if(e.prev=29,!l){e.next=32;break}throw u;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",s);case 37:return e.abrupt("return",b);case 38:e.next=41;break;case 40:return e.abrupt("return",b);case 41:case"end":return e.stop()}},e,this,[[18,22,26,34],[27,,29,33]])})),v=o(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,s,c,l,u,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=y.VN)&&t){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,r.addressToZipLoader();case 5:n=e.sent,i=r.addressToZipTest,a=n,o=!0,s=!1,c=void 0,e.prev=11,l=i[Symbol.iterator]();case 13:if(o=(u=l.next()).done){e.next=24;break}if(p=u.value,d=t[p]){e.next=18;break}return e.abrupt("return","");case 18:if(a=a[d]){e.next=21;break}return e.abrupt("return","");case 21:o=!0,e.next=13;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(11),s=!0,c=e.t0;case 30:e.prev=30,e.prev=31,!o&&l.return&&l.return();case 33:if(e.prev=33,!s){e.next=36;break}throw c;case 36:return e.finish(33);case 37:return e.finish(30);case 38:if(!/^\d*$/.test(a)){e.next=40;break}return e.abrupt("return",a);case 40:return e.abrupt("return","");case 41:case"end":return e.stop()}},e,this,[[11,26,30,38],[31,,33,37]])}))},1868:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return o});var n=r(14),i={TW:{state:"台北市",city:"中正區"},PH:{state:"Metro Manila",city:"Metro Manila"},VN:{state:"Hà Nội",city:"Huyện Ba Vì"},ID:{state:"DKI JAKARTA",city:"KOTA JAKARTA PUSAT",district:"MENTENG"},TH:{state:"จังหวัดกรุงเทพมหานคร",city:"เขตพระนคร"},MY:{state:"Kuala Lumpur",city:"KL City"}}[n.e],a={TW:2,PH:2,VN:2,ID:3,TH:2,MY:2}[n.e],o=10},1892:function(e,t,r){"use strict";var n=r(36);t.a=Object(n.a)({Icon:r(1742),iconClassNames:["icon-free-shipping"]})},1906:function(e,t,r){"use strict";var n=r(36);t.a=Object(n.a)({Icon:r(1872),iconClassNames:["icon-free-shipping-line"]})},1934:function(e,t,r){"use strict";r.d(t,"h",function(){return p}),r.d(t,"e",function(){return d}),r.d(t,"i",function(){return h}),r.d(t,"c",function(){return f}),r.d(t,"d",function(){return m}),r.d(t,"b",function(){return g}),r.d(t,"g",function(){return v}),r.d(t,"f",function(){return b}),r.d(t,"a",function(){return y});var n=r(2111),i=r.n(n),a=r(92),o=r(94),s=(r(258),r(103)),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var u={TW:{showDiscountedFee:!0,showFreeShippingForDiscountStringIfFree:!0,showFreeShippingForDiscountStringIfFree__crossBorder:!0,onlyDisplayFreeShippingForDiscountString:!0,onlyDisplayOneFreeShippingWithMinimumMinOrderTotalForDiscountString:!0,showActualShippingFeeInsteadOfPossibleRange:!0,alwaysShowHighestTierForCartDiscountString:!0,removeRulesForDiscountHintProducesHigherShippingFee:!0,alwaysShowMostAttractiveTierForCartDiscountString:!0,isReact:!0},VN:{hideChannelNamesInDiscountString:!0,countrySpecificRulesetString:!0,useSimpleDiscountStringForPrompt:!0,showNextTierOnlyForDiscountHint:!0,useNewDiscountStringWithLocationGroupNameLabel:!0,ignoreBuyerLocationGroupCheckOnDiscountStringGeneration:!0,useLocationNotSupportedChannelDiscountHint:!0,showActualShippingFeeInsteadOfPossibleRange:!0,showFreeShippingForDeltaIfFree:!0,isReact:!0},MY:{showFreeShippingForDeltaIfFree:!0,showFreeShippingForDeltaIfFree__crossBorder:!1,showFreeShippingForDiscountStringIfFree:!0,showFreeShippingForDiscountStringIfFree__crossBorder:!1,showCappedDeltaWithUpTo:!0,hideChannelNamesInDiscountString:!0,hideCartDiscountString:!0,isReact:!0},PH:{showFreeShippingForDeltaIfFree:!0,showFreeShippingForDeltaIfFree__crossBorder:!0,hideSupersededTiersForDiscountString:!0,hideChannelNamesInDiscountString:!0,useCountrySpecificRuleString:!0,hideCapForPercentageWithCapForDiscountString:!0,showNextTierOnlyForDiscountHint:!0,hideCapForPercentageWithCapForDiscountHint:!0,hideCapForPercentageWithCapForCartDiscountString:!0,displayHighestTierIfAllClearedForPrompt:!0,isReact:!0},SG:{hideUnnecessaryDecimalPlacesInAmount:!0,showFreeShippingForDeltaIfFree:!0,showFreeShippingForDeltaIfFree__crossBorder:!1,showFreeShippingForDiscountStringIfFree__crossBorder:!0,doNotShowFreeShippingForDiscountStringIfNoTiersMet__crossBorder:!0,showCappedDeltaWithUpTo:!0,showFreeShippingForDiscountStringIfFree:!0,hideSupersededTiersForDiscountString:!0,useCountrySpecificRuleString:!0,allowDifferentDeltaUnderSameMinimumOrderTotalForDiscountString:!0,hideNextTierIfCurrentTierIsFreeShippingForDiscountHint:!0,hideNextTierIfCurrentTierIsFreeShippingForDiscountHint__crossBorder:!0,showAllTiersRegardlessIfNoTiersMetForDiscountHint__crossBorder:!0,hideCartDiscountString:!0,showAllUnmetTiersForPrompt:!0,isReact:!0},TH:{showFreeShippingInsteadOfDeltaForCapForDiscountStringOnly:!0,hideChannelNamesInDiscountString:!0,useCountrySpecificRuleString:!0,displayHighestTierIfAllClearedForHint:!0,showQualifiedForShippingSubsidyInsteadOfDeltaForCartDiscountStringOnly:!0,showQualifiedForShippingSubsidyInsteadOfDeltaForDiscountPromptOnly:!0,useSimpleDiscountStringForPrompt:!0,isReact:!0},ID:{showFreeShippingForDeltaIfFree:!0,showCappedDeltaWithUpTo:!0,useCountrySpecificRuleString:!0,displayHighestTierIfAllClearedForHint:!0,showDetailedDiscountInfoForCartDiscount:!0,hideDiscountPrompt:!0,onlyDisplayFreeShippingForDiscountString:!0,allowDifferentDeltaUnderSameMinimumOrderTotalForDiscountString:!0,onlyDisplayOneFreeShippingWithMinimumMinOrderTotalForDiscountString:!0,showHighestTierOnlyForDiscountHint:!0,hideAddressNotSupportedChannelForChannelDiscountHint:!0,isReact:!0}};function p(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return a||(a=u[e]),i()().create(e,t,n,r,a)}function d(e,t,r){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var n=arguments[4],i=arguments[5],a=arguments[6],o=arguments[7],l=arguments[8],d=arguments[9],h=p(e,t,r,o,Object(s.e)(e,s.b.SELLER_DEFINED_FREE_SHIPPING_PROMOTION)?c({},u[e],{highlightPromotionFees:!0}):null);return h.generateDiscountString({promotionRules:l,shopName:n,shopEnabledChannelsData:h.generateShopChannelDataParameters(i),crossBorder:a,orderTotal:d,simpleMode:!1})}function h(e){return e&&e.some(function(e){return e.channel&&e.channel.distance_calculation})}function f(e){return"unsupported_address"===(t=e).warning||"unsupported_seller_address"===t.warning||"channel_unavailable"===t.warning?"label_unsupported_address":e&&"shipping_option_unsupported"===e.warning?"label_shipping_option_unsupported":e&&"size_limit_exceeded"===e.warning?"label_size_limit_exceeded":null;var t}function m(e,t,r,n,i,a,o,l,d,h){var f=n.channel.channelid,m=p(e,t,r,h,Object(s.e)(e,s.b.SELLER_DEFINED_FREE_SHIPPING_PROMOTION)?c({},u[e],{highlightPromotionFees:!0}):null);return m.generateChannelDiscountHint(l,f,m.generateShopChannelDataParameters(d)[f],a,o)}function g(e,t,r,n,i,a){var o=a.channel.channelid,s=p(e,t,r,n),c=s.generateShopChannelDataParameters([a])[o];return s.generateChannelShippingFeeDisplayData(i,o,c)}function v(e,t,r,n,i,c){var u=function(t){return Object(a.a)(e,Object(o.a)(t,e))};if(!(n=n.filter(function(e){return"unsupported_address"!==e.warning&&"unsupported_seller_address"!==e.warning&&e.channel&&e.channel.channelid})).some(function(e){return e.hasOwnProperty("cost")}))return r("label_unsupported_address");var p=void 0,d=void 0;if(Object(s.e)(e,s.b.SELLER_DEFINED_FREE_SHIPPING_PROMOTION))d=u(Math.max.apply(Math,l(n.map(function(e){return e.cost||0})))),p=u(Math.min.apply(Math,l(n.map(function(e){return e.cost||0}))));else{var h=n.map(function(n){return g(e,t,r,c,i,n).possibleShippingFees});p=u(Math.min.apply(Math,l(h.map(function(e){return Math.min.apply(Math,l(e))})))),d=u(Math.max.apply(Math,l(h.map(function(e){return Math.max.apply(Math,l(e))}))))}return p===d?p:p+" - "+d}function b(e,t,r){if(!e)return"";var n=e.city+", "+e.state;return 3===t&&(n=(e.district?e.district+",":"")+" "+e.city),"ID"===r&&(n=""+e.city),n}function y(e){return 2===e.length?{state:e[0],city:e[1]}:3===e.length?{state:e[0],city:e[1],district:e[2]}:{state:"",city:""}}},2526:function(e,t,r){"use strict";r.r(t);var n=r(47),i=r.n(n),a=r(2),o=r.n(a),s=r(178),c=r.n(s),l=r(1934),u=r(13),p=r(258),d=r(66);var h=r(1635),f=r.n(h),m=r(1636),g=r.n(m),v=d.a.NEW_SHIPPING_FEE_DRAWER;function b(e){var t=e.logistic,r=e.productInfo,n=e.productShipping,i=e.logisticsChannels,a=e.isCrossBorder;if(t.error)return null;var s,c=Object(l.b)("VN","VN",u.b,i,n.promotion_rules,t),d=r?r.get("price"):0,h=Object(l.d)("VN","VN",u.b,t,n.logistic_discount_info,d,!!a,n.promotion_rules,n.logistics,i),m=Object(l.c)(t),b=t&&t.delivery_info?Object(p.a)(t.delivery_info,u.b):null;return v?o.a.createElement("div",{className:f.a.section},o.a.createElement("div",{className:f.a.channelNameAndCost},o.a.createElement("div",{className:f.a.channelName},t.channel.name),o.a.createElement("div",{className:f.a.channelCost},m?Object(u.b)(m):[!!c&&!!c.discountedShippingFeeString&&o.a.createElement("div",{className:f.a.originalChannelCost,key:0},c.estimatedShippingFeeString),!!c&&o.a.createElement("div",{className:f.a.currentChannelCost,key:1},c.discountedShippingFeeString||c.estimatedShippingFeeString)])),b&&o.a.createElement("div",{className:f.a.deliveryTime},b),h&&o.a.createElement("div",{className:f.a.promotionText,dangerouslySetInnerHTML:{__html:(s=h,s.replace(/^\((.+)\)$/,"$1")).replace(/View/g,"span").replace(/font-size:.+?;/g,"")}})):o.a.createElement("div",{className:g.a.section},o.a.createElement("div",{className:g.a.channelName},t.channel.name+": "),m?o.a.createElement("div",{className:g.a.currentChannelCost},Object(u.b)(m)):[!!c&&!!c.discountedShippingFeeString&&o.a.createElement("div",{className:g.a.originalChannelCost,key:0},c.estimatedShippingFeeString),!!c&&o.a.createElement("div",{className:g.a.currentChannelCost,key:1},c.discountedShippingFeeString||c.estimatedShippingFeeString)],h&&o.a.createElement("div",{className:g.a.promotionText}," ",h),!!b&&o.a.createElement("div",{className:g.a.deliveryTime},"[",b,"]"))}var y=r(307),S=(r(32),r(83)),_=r(1663),k=r(293);function F(e){var t=e.queries,r=e.results,n=e.onBackLevelClick,i=e.onLevelItemClick;return o.a.createElement("div",{className:"shopee-address-picker__list-wrapper",onMouseEnter:k.d.init,onMouseLeave:k.d.restore},t.length>0?o.a.createElement("div",{className:"shopee-address-picker__last-selected-address-level",onClick:n},o.a.createElement(_.a,null),t[t.length-1]):"",o.a.createElement("ul",{className:"shopee-address-picker__current-level-list",onScroll:k.d.prevent,key:t.length},r.map(function(e){return o.a.createElement("li",{className:"shopee-address-picker__current-level-list-item",onClick:i,key:e},e)})))}function w(e){var t=e.searchResult,r=e.onSearchResultClick;return o.a.createElement("div",{className:"shopee-address-picker__search-result-list-wrapper"},o.a.createElement("ul",{className:"shopee-address-picker__search-result"},t.map(function(e){return o.a.createElement("li",{className:"shopee-address-picker__search-result-item",key:e.join(""),onClick:function(){r(e)}},e.join(" "))})))}F.defaultProps={currentLevelList:[]};var O=r(6),D=r(12),E=r(1867),C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={searchText:"",queries:[]},r.onBackLevelClicked=r.onBackLevelClicked.bind(r),r.onLevelItemClicked=r.onLevelItemClicked.bind(r),r.onSearchResultClicked=r.onSearchResultClicked.bind(r),r.onSearchTextChange=r.onSearchTextChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),C(t,[{key:"componentWillMount",value:function(){this.props.loadStaticAddressList()}},{key:"render",value:function(){var e=this.props,t=e.staticAddress,r=e.maxLevel,n=this.state;return o.a.createElement("div",{className:"shopee-address-picker"},o.a.createElement("div",{className:"shopee-address-picker__search-bar"},o.a.createElement("input",{onChange:this.onSearchTextChange,placeholder:Object(u.b)("label_search"),value:n.searchText})),n.searchText?o.a.createElement(w,{searchResult:Object(E.g)(n.searchText,t,r),onSearchResultClick:this.onSearchResultClicked}):o.a.createElement(F,{queries:n.queries,results:Object(E.f)(n.queries,t),onBackLevelClick:this.onBackLevelClicked,onLevelItemClick:this.onLevelItemClicked}))}},{key:"onSearchTextChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"onLevelItemClicked",value:function(e){var t=this.props,r=this.state.queries;r.push(e.target.innerHTML),r.length>=t.maxLevel&&"function"==typeof t.onMaxLevelHit?(k.d.restore(),t.onMaxLevelHit(r)):this.setState({queries:r})}},{key:"onBackLevelClicked",value:function(){this.setState({queries:this.state.queries.slice(0,-1)})}},{key:"onSearchResultClicked",value:function(e){var t=this.props;this.setState({searchText:"",queries:e}),e.length>=t.maxLevel&&"function"==typeof t.onMaxLevelHit&&t.onMaxLevelHit(e)}}]),t}();N.defaultProps={maxLevel:2,onMaxLevelHit:function(){}};var T=Object(S.b)(function(e){return{staticAddress:D.Y(e)}},O)(N),I=r(1696),P=r(36),A=Object(P.a)({Icon:r(2124),iconClassNames:["icon-shipping-airplane"]}),L=Object(P.a)({Icon:r(2120),iconClassNames:["icon-preorder"]}),j=r(1892),x=r(1906),R=r(1764),M=r(1751),H=r(1868),B={LOCAL:0,OVERSEAS:1},W=r(1637),V=r.n(W),q=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var G=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.props.accountStore.get("default_address");return r.state={addressPickerOpened:!1,selectedShippingAddress:n?n.toJS():H.a},r.onReceiveSelectedAddress=r.onReceiveSelectedAddress.bind(r),r.toggleAddressPicker=r.toggleAddressPicker.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),q(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.productInfo,n=t.productShipping,a=t.logisticsChannels,s=r?r.get("price"):0,c=r?r.get("cb_option"):0,p=r?r.get("shipping_icon_type"):0,d=r&&r.get("is_pre_order");n=n?n.toJS():null,a=a?a.toJS():null;var h=this.isFeeDistanceBased(),f=n&&n.show_free_shipping&&a&&Object(l.e)("VN","VN",u.b,n.logistic_discount_info,n.shopname,n.logistics,c,a,n.promotion_rules,s),m=f?f.replace("<IconHelp>","").replace(/&amp;lt;.+?&amp;gt;/g,""):null;return o.a.createElement("div",{className:V.a.section},d&&o.a.createElement("div",{className:i()("shopee-product-info-body__row",V.a.preorder)},o.a.createElement(L,null),o.a.createElement("div",null,Object(u.b)("label_preorder_ship_in_n_days",{n:r.get("estimated_days")}))),!!f&&o.a.createElement("div",{className:i()("shopee-product-info-body__row",V.a.freeShipping)},o.a.createElement(j.a,null),o.a.createElement("span",{className:V.a.freeShippingText,dangerouslySetInnerHTML:{__html:m}})),o.a.createElement("div",{className:V.a.shippingBlock},p===B.OVERSEAS?o.a.createElement(A,null):o.a.createElement(x.a,null),o.a.createElement("div",{className:V.a.shippingBlockContent},p===B.OVERSEAS||h?o.a.createElement("div",{className:(V.a.shippingBlockRow,V.a.fromTo)},o.a.createElement("div",{className:V.a.shippingBlockLabel},""+Object(u.b)("label_shipping")),o.a.createElement("div",{className:V.a.shippingBlockDetail},p===B.OVERSEAS&&o.a.createElement("div",{className:V.a.shipFrom},o.a.createElement("span",{className:V.a.shipFromLabel},Object(u.b)("label_from")+":")," "+Object(u.b)("label_overseas")),h?o.a.createElement("div",{className:V.a.shipToPart},o.a.createElement("span",{className:V.a.shipToLabel},Object(u.b)("label_to")+":"),o.a.createElement("div",{className:V.a.shipToSelectorWrapper},o.a.createElement("div",{className:V.a.shipTo,ref:function(t){e.dropdownTab=t},onClick:this.toggleAddressPicker},o.a.createElement("span",{className:V.a.shipToText},Object(l.f)(this.state.selectedShippingAddress,H.b)),this.state.addressPickerOpened?o.a.createElement(M.a,null):o.a.createElement(R.a,null)),this.state.addressPickerOpened?o.a.createElement(T,{ref:function(t){e.dropdownWindow=t},maxLevel:H.b,onMaxLevelHit:this.onReceiveSelectedAddress}):null)):null)):null,n&&n.logistics&&n.logistics.length>0?o.a.createElement("div",{className:V.a.shippingBlockRow},o.a.createElement("div",{className:V.a.shippingBlockLabel},Object(u.b)("label_shipping_fee")+": "),o.a.createElement("div",null,o.a.createElement(I.a,{drawerButton:o.a.createElement("div",{className:i()(V.a.shippingCost,"v-center")},Object(l.g)("VN","VN",u.b,n.logistics,n.promotion_rules,a),o.a.createElement(R.a,null))},o.a.createElement("div",{className:i()(V.a.shippingOptionContainer,"card")},n.logistics.filter(function(e){return!e.error}).map(function(e){return o.a.createElement(b,{key:e.channel.name,logistic:e,isCrossBorder:c,productInfo:r,productShipping:n,logisticsChannels:a})}))))):o.a.createElement("div",{className:V.a.shippingBlockRow},o.a.createElement("div",{className:V.a.shippingBlockLabel},Object(u.b)("label_shipping_fee_included"))))))}},{key:"componentDidMount",value:function(){this.state.selectedShippingAddress&&H.b&&this.loadShippingFeeByAddress(this.state.selectedShippingAddress),this.props.orderBlock&&Object(k.c)(this.props.orderBlock,"div.shopee-product-info-body__info-label"),document.querySelector("body").addEventListener("click",this.closeAddressPicker.bind(this))}},{key:"componentWillUnmount",value:function(){document.querySelector("body").removeEventListener("click",this.closeAddressPicker.bind(this))}},{key:"componentDidUpdate",value:function(){this.props.orderBlock&&Object(k.c)(this.props.orderBlock,"div.shopee-product-info-body__info-label")}},{key:"loadShippingFeeByAddress",value:function(e){var t=this.props,r=t.productInfo.get("itemid"),n=t.productInfo.get("shopid");t.loadProductShippingByAddress(e,n,r)}},{key:"isFeeDistanceBased",value:function(){var e=this.props.productShipping?this.props.productShipping.toJS():null;return e&&Object(l.i)(e.logistics)}},{key:"toggleAddressPicker",value:function(){this.setState({addressPickerOpened:!this.state.addressPickerOpened})}},{key:"closeAddressPicker",value:function(e){var t=c.a.findDOMNode(this.dropdownWindow),r=c.a.findDOMNode(this.dropdownTab),n=e.toElement||e.relatedTarget||e.target;t&&!t.contains(n)&&!r.contains(n)&&this.state.addressPickerOpened&&this.setState({addressPickerOpened:!1})}},{key:"onReceiveSelectedAddress",value:function(e){var t=Object(l.a)(e);this.setState({addressPickerOpened:!1,selectedShippingAddress:t}),this.loadShippingFeeByAddress(t,this.props)}}]),t}();t.default=Object(y.b)(G)}}]);
//# sourceMappingURL=https://shopee.vn/assets/ShippingFee.8a2d41231ed572a7209e.js.map